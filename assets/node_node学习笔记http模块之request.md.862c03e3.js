import{_ as s,o as n,c as a,R as l}from"./chunks/framework.bf742a9e.js";const d=JSON.parse('{"title":"node 学习笔记 http -- request","description":"","frontmatter":{},"headers":[],"relativePath":"node/node学习笔记http模块之request.md","filePath":"node/node学习笔记http模块之request.md"}'),t={name:"node/node学习笔记http模块之request.md"},e=l(`<h1 id="node-学习笔记-http-request" tabindex="-1">node 学习笔记 http -- request <a class="header-anchor" href="#node-学习笔记-http-request" aria-label="Permalink to &quot;node 学习笔记 http -- request&quot;">​</a></h1><p>前面已经提到，<code>request</code>是 http.IncomingMessage 实例，有可读流的接口，在服务端、客户端作用略微有差异</p><ul><li>服务端处：获取请求方的相关信息，如 request header 等。</li><li>客户端处：获取响应方返回的相关信息，如 statusCode 等。</li></ul><p>服务端例子：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> http </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> server </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> http</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createServer</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> reqHandler </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">req</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1、客户端请求url：</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">req</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">url</span><span style="color:#F07178;">) </span><span style="color:#676E95;font-style:italic;">//服务端特有</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2、http请求方法：</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">req</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">method</span><span style="color:#F07178;">) </span><span style="color:#676E95;font-style:italic;">//服务端特有</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">3、http版本：</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">req</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">httpVersion</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">4、http版本主板本：</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">req</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">httpVersionMajor</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">5、http版本次板本：</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">req</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">httpVersionMinor</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">6、http请求头部:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">req</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">headers</span><span style="color:#F07178;">))</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">7、http请求原始头部:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">req</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">rawHeaders</span><span style="color:#F07178;">))</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">end</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ok</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">server</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">request</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> reqHandler)</span></span>
<span class="line"><span style="color:#A6ACCD;">server</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">listen</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">3000</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">监听3000端口</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>代码说明：</p><blockquote><p><code>http.createServer()</code>创建一个服务器，参数一个请求监听器，每次请求到达，都会执行该函数。 <code>请求监听函数</code>有两个参数，第一个是<code>req</code>是一个<code>http.IncomingMessage</code>的实例，包含请求内容。在回调函数执行之前，会解析<code>请求头</code>，但是<strong>不</strong>会解析<code>请求体</code>。 回调函数需要调用 <code>req.end()</code>结束响应，否则程序一直挂起。end 可接收<strong>字符串</strong>或者 <strong>buffer</strong> 作为响应。</p></blockquote><p>用 curl 请求：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">http://127.0.0.1:3000/test</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>服务端输出：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">1、客户端请求url：/test</span></span>
<span class="line"><span style="color:#FFCB6B;">2、http请求方法：GET</span></span>
<span class="line"><span style="color:#FFCB6B;">3、http版本：1.1</span></span>
<span class="line"><span style="color:#FFCB6B;">4、http版本主板本：1</span></span>
<span class="line"><span style="color:#FFCB6B;">5、http版本次板本：1</span></span>
<span class="line"><span style="color:#FFCB6B;">6、http请求头部:</span><span style="color:#A6ACCD;">{&quot;</span><span style="color:#FFCB6B;">host</span><span style="color:#FFCB6B;">&quot;:&quot;</span><span style="color:#FFCB6B;">127.0.0.1:3000</span><span style="color:#FFCB6B;">&quot;,&quot;</span><span style="color:#FFCB6B;">user-agent</span><span style="color:#FFCB6B;">&quot;:&quot;</span><span style="color:#FFCB6B;">curl/7.57.0</span><span style="color:#FFCB6B;">&quot;,&quot;</span><span style="color:#FFCB6B;">accept</span><span style="color:#FFCB6B;">&quot;:&quot;</span><span style="color:#FFCB6B;">*/*</span><span style="color:#FFCB6B;">&quot;}</span></span>
<span class="line"><span style="color:#FFCB6B;">7、http请求原始头部:[&quot;</span><span style="color:#FFCB6B;">Host</span><span style="color:#FFCB6B;">&quot;,&quot;</span><span style="color:#FFCB6B;">127.0.0.1:3000</span><span style="color:#FFCB6B;">&quot;,&quot;</span><span style="color:#FFCB6B;">User-Agent</span><span style="color:#FFCB6B;">&quot;,&quot;</span><span style="color:#FFCB6B;">curl/7.57.0</span><span style="color:#FFCB6B;">&quot;,&quot;</span><span style="color:#FFCB6B;">Accept</span><span style="color:#FFCB6B;">&quot;,&quot;</span><span style="color:#FFCB6B;">*/*</span><span style="color:#FFCB6B;">&quot;]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>客户端例子</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> http </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> url </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://127.0.0.1:3000/test?name=jack&amp;age=24</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">http</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#A6ACCD;">(url</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">statusCode</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">statusMessage</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">headers</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">rawHeaders</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">httpVersion</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1.状态码:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">statusCode</span><span style="color:#F07178;">) </span><span style="color:#676E95;font-style:italic;">//客户端特有属性</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2.状态信息:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">statusMessage</span><span style="color:#F07178;">) </span><span style="color:#676E95;font-style:italic;">//客户端特有属性</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">3.响应头信息:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">headers</span><span style="color:#F07178;">))</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">4.原始响应头信息:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">rawHeaders</span><span style="color:#F07178;">))</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">5.http版本:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">httpVersion</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>客户端输出：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">1.状态码:200</span></span>
<span class="line"><span style="color:#FFCB6B;">2.状态信息:Ok</span></span>
<span class="line"><span style="color:#FFCB6B;">3.响应头信息:</span><span style="color:#A6ACCD;">{&quot;</span><span style="color:#FFCB6B;">date</span><span style="color:#FFCB6B;">&quot;:&quot;</span><span style="color:#FFCB6B;">Sat,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">22</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Sep</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2018</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">18</span><span style="color:#C3E88D;">:49:34</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">GMT</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">connection</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">close</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">transfer-encoding</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">chunked</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">}</span></span>
<span class="line"><span style="color:#C3E88D;">4.原始响应头信息:[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Date</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Sat,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">22</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Sep</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2018</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">18</span><span style="color:#C3E88D;">:49:34</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">GMT</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Connection</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">close</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Transfer-Encoding</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">chunked</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">]</span></span>
<span class="line"><span style="color:#C3E88D;">5.http版本:1.1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="属性-方法-事件分类" tabindex="-1">属性/方法/事件分类 <a class="header-anchor" href="#属性-方法-事件分类" aria-label="Permalink to &quot;属性/方法/事件分类&quot;">​</a></h2><p>http.IncomingMessage 的 <code>属性/方法/事件</code>不是特别多，按照是否客户端/服务端 特有的，下面进行简单归类。可以看到</p><ul><li>服务端处特有：url、method</li><li>客户端处特有：statusCode、statusMessage</li></ul><table><thead><tr><th style="text-align:left;">类型</th><th style="text-align:center;">名称</th><th style="text-align:center;">服务端</th><th style="text-align:center;">客户端</th><th style="text-align:left;">意义或者触发条件</th></tr></thead><tbody><tr><td style="text-align:left;">属性</td><td style="text-align:center;">url</td><td style="text-align:center;">✓</td><td style="text-align:center;">✕</td><td style="text-align:left;"><code>服务端</code>特有属性</td></tr><tr><td style="text-align:left;">属性</td><td style="text-align:center;">method</td><td style="text-align:center;">✓</td><td style="text-align:center;">✕</td><td style="text-align:left;"><code>服务端</code>特有属性</td></tr><tr><td style="text-align:left;">属性</td><td style="text-align:center;">headers</td><td style="text-align:center;">✓</td><td style="text-align:center;">✓</td><td style="text-align:left;">头信息的名称与值的<code>键值对</code>。 头信息的名称为小写</td></tr><tr><td style="text-align:left;">属性</td><td style="text-align:center;">rawHeaders</td><td style="text-align:center;">✓</td><td style="text-align:center;">✓</td><td style="text-align:left;">原始的请求头或响应头<code>列表</code>,偶数下标是键，一下个元素（奇数）下标是对应键值</td></tr><tr><td style="text-align:left;">属性</td><td style="text-align:center;">statusCode</td><td style="text-align:center;">✕</td><td style="text-align:center;">✓</td><td style="text-align:left;"><code>客户端</code>特有</td></tr><tr><td style="text-align:left;">属性</td><td style="text-align:center;">statusMessage</td><td style="text-align:center;">✕</td><td style="text-align:center;">✓</td><td style="text-align:left;"><code>客户端</code>特有</td></tr><tr><td style="text-align:left;">属性</td><td style="text-align:center;">httpVersion</td><td style="text-align:center;">✓</td><td style="text-align:center;">✓</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">属性</td><td style="text-align:center;">socket</td><td style="text-align:center;">✓</td><td style="text-align:center;">✓</td><td style="text-align:left;">net.Socket 对象</td></tr><tr><td style="text-align:left;">方法</td><td style="text-align:center;">.destroy()</td><td style="text-align:center;">✓</td><td style="text-align:center;">✓</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">方法</td><td style="text-align:center;">.setTimeout()</td><td style="text-align:center;">✓</td><td style="text-align:center;">✓</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">方法</td><td style="text-align:center;">setEncoding(encoding)</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:left;">设定流编码，将 buffer 设置成字符串</td></tr><tr><td style="text-align:left;">事件</td><td style="text-align:center;">aborted</td><td style="text-align:center;">✓</td><td style="text-align:center;">✓</td><td style="text-align:left;">请求终止且 socket 已关闭</td></tr><tr><td style="text-align:left;">事件</td><td style="text-align:center;">close</td><td style="text-align:center;">✓</td><td style="text-align:center;">✓</td><td style="text-align:left;">底层连接被关闭(需要深入对比两者的不同)</td></tr></tbody></table>`,19),p=[e];function o(r,c,y,F,D,C){return n(),a("div",null,p)}const A=s(t,[["render",o]]);export{d as __pageData,A as default};
