import{_ as s,o as n,c as a,R as p}from"./chunks/framework.bf742a9e.js";const m=JSON.parse('{"title":"记录使用 npm 的问题","description":"","frontmatter":{},"headers":[],"relativePath":"node/npm使用问题.md","filePath":"node/npm使用问题.md"}'),l={name:"node/npm使用问题.md"},o=p(`<h1 id="记录使用-npm-的问题" tabindex="-1">记录使用 npm 的问题 <a class="header-anchor" href="#记录使用-npm-的问题" aria-label="Permalink to &quot;记录使用 npm 的问题&quot;">​</a></h1><h2 id="node-sass-安装不上" tabindex="-1">node-sass 安装不上 <a class="header-anchor" href="#node-sass-安装不上" aria-label="Permalink to &quot;node-sass 安装不上&quot;">​</a></h2><p>node-sass 有资源放在美国亚马逊上,不科学上网,很慢.</p><ol><li>设置 taobao 源:</li></ol><p>.npmrc 可跨平台</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">sass_binary_site</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">https://npm.taobao.org/mirrors/node-sass/</span></span>
<span class="line"><span style="color:#A6ACCD;">puppeteer_download_host</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">https://npm.taobao.org/mirrors/mirrors</span></span>
<span class="line"><span style="color:#A6ACCD;">registry</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">https://registry.npm.taobao.org</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>一次性使用:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">SASS_BINARY_SITE</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">https://npm.taobao.org/mirrors/node-sass/</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">node-sass</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>同理， puppeteer 下载很慢。</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">puppeteer_download_host</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">https://npm.taobao.org/mirrors/mirrors</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>科学上网</li></ol><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">proxy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">socks5://127.0.0.1:1086</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">node-sass</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 下载完成后删除 http 代理</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">delete</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">proxy</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>参考</p></blockquote><p><a href="https://mp.weixin.qq.com/s/uufvjn_XATUrEYjYc062EQ" target="_blank" rel="noreferrer">安装 node-sass 的正确姿势</a></p><h2 id="npm-s-module-name-报错" tabindex="-1">npm s module_name 报错 <a class="header-anchor" href="#npm-s-module-name-报错" aria-label="Permalink to &quot;npm s module_name 报错&quot;">​</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">λ</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">search</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">connect</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">WARN</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">search</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">fast</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">search</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">endpoint</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">errored.</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Using</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">old</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">search.</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">WARN</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Failed</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">read</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">search</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cache.</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Rebuilding</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">WARN</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Building</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">local</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">index</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">first</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">time,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">please</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">be</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">patient</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ERR!</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">No</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">search</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sources</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">available</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ERR!</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">A</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">complete</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">log</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">of</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">this</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">can</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">be</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">found</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">in:</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ERR!</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">C:</span><span style="color:#A6ACCD;">\\U</span><span style="color:#C3E88D;">sers</span><span style="color:#A6ACCD;">\\A</span><span style="color:#C3E88D;">dministrator</span><span style="color:#A6ACCD;">\\A</span><span style="color:#C3E88D;">ppData</span><span style="color:#A6ACCD;">\\R</span><span style="color:#C3E88D;">oaming</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">pm-cache</span><span style="color:#A6ACCD;">\\_</span><span style="color:#C3E88D;">logs</span><span style="color:#A6ACCD;">\\2</span><span style="color:#C3E88D;">018-08-25T1</span></span>
<span class="line"><span style="color:#FFCB6B;">2_25_05_745Z-debug.log</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>可能是 npm 镜像设置的问题，查看当前使用的镜像</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">λ</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nrm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ls</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">----</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://registry.npmjs.org/</span></span>
<span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> cnpm --- http://r.cnpmjs.org/</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">taobao</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://registry.npm.taobao.org/</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">nj</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-----</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://registry.nodejitsu.com/</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">rednpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">http://registry.mirror.cqupt.edu.cn/</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">npmMirror</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">https://skimdb.npmjs.com/registry/</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">edunpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">http://registry.enpmjs.org/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>使用了 cnpm ，切换到 npm 官方镜像就可以了。</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">λ</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nrm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">use</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">npm</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">Registry</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">has</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">been</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://registry.npmjs.org/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>参考：<a href="https://www.firegod.cn/2017/04/npm-search-error/" target="_blank" rel="noreferrer">今天使用 npm search 的时候出现了一段错误</a></p></blockquote>`,21),e=[o];function r(t,c,C,y,i,A){return n(),a("div",null,e)}const b=s(l,[["render",r]]);export{m as __pageData,b as default};
