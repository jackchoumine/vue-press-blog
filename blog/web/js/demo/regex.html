<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ­£åˆ™</title>
</head>

<body>
  <h1>æ­£åˆ™è¡¨è¾¾å¼</h1>
  <div class="samurai ninja">ä½ å¥½</div>
  <span class="ninja">ç‰›å¹´å¿«ä¹</span>
  <span class="ninja ">ç‰›å¹´å¿«ä¹</span>
  <span class=" ninja ">ç‰›å¹´å¿«ä¹</span>
  </div>
  <script>
    const reg = /[\S\s]+/
    const tel = `<span>
            regex
      </span>`
    console.log(tel.match(reg))
    function findEleByClass(className, type) {
      const elems = document.getElementsByTagName(type) || []
      console.log(elems)
      // ä»¥ç©ºæ ¼æˆ–è€…ç±»å¼€å¤´ï¼Œä»¥ç©ºæ ¼æˆ–è€…ç±»ç»“å°¾
      const regex = new RegExp("(^|\\s)" + className + "(\\s|$)")
      // const regex = `/(^|\\s)${className}(\\s|$)/`
      console.log(regex)
      const results = []
      for (const item of elems) {
        if (regex.test(item.className)) results.push(item)
      }
      console.log(results)
    }
    findEleByClass('ninja', 'span')
    const test = `Hello 
    WOrld`
    // TODO g å’Œ m æœ‰ä½•ä¸åŒï¼Ÿ
    console.log(test.match(/O/ig))
    //è¾“å…¥
    const hd = `
     #1 JS,200å…ƒ #
     #2 php,180å…ƒ #
     #3 test # æµ‹è¯•
     #4 node.js,300å…ƒ #
    `
    // NOTE å¤šè¡ŒåŒ¹é…
    // è¾“å‡º
    // [{name:'JS',price:'200å…ƒ'}]
    const priceArr = hd.match(/\s*#\d+\s+.+\s+#$/mg).map(str => {
      const [name, price] = str.replace(/\s*#\d+\s*/, '').replace(/\s*#/, '').split(',')
      return { name, price }
    })
    console.log(priceArr)
    // unicode å±æ€§
    const chineseCharacter = 'houdunren2020.ä¸­å›½'
    console.log(chineseCharacter.match(/\p{P}/ug))
    // script ç‰¹æ€§ sc
    console.log(chineseCharacter.match(/\p{sc=Han}/gu))
    // å®½å­—èŠ‚ 
    const str = 'ğ’³ğ’´xy'
    console.log(str.length)
    console.log(str.match(/[ğ’³ğ’´]/gu))// NOTE ä¸åŠ  u å‡ºç°ä¹±ç 
    /**
     *
     * æ›´å¤šé˜…è¯»ï¼šhttps://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp#browser_compatibility
     *
     * https://zh.javascript.info/regular-expressions
     *
     * */

    // lastIndex æŒ‡å®šæ­£åˆ™å¼€å§‹æœç´¢çš„ä½ç½® å…¨å±€æ¨¡å¼ä¸‹è®°å½•ä¸‹æ¬¡åŒ¹é…å¼€å§‹çš„ç´¢å¼•
    console.log('***************************')
    console.log(chineseCharacter.match(/\w/g))// å­—ç¬¦ä¸²æ–¹æ³•
    const regLastIndex = /u/g
    console.log(regLastIndex.exec(chineseCharacter))
    console.log(regLastIndex.lastIndex)
    console.log(regLastIndex.exec(chineseCharacter))
    console.log(regLastIndex.lastIndex)
    while ((res = regLastIndex.exec('houdunren2021'))) {
      console.log(res)
    }
    // y æ¨¡å¼
    const info = 'ä¸­å›½äºº 1111, 2222, 3333ä½ å¥½ hello'
    const regY = /(\d+),?\s?/y
    regY.lastIndex = 5
    const numbers = []
    while (res = regY.exec(info)) {
      numbers.push(res[1])
    }
    console.log(numbers)

    // åŸå­è¡¨ åŒ…å« å’Œä½ç½®æ— å…³
    const yearInfo = 'year 2020-08-30 ä½ å¥½ 2020/08/31 2020-08/31'
    // const regAuto = /\d{4}[-\/]\d{1,2}[-\/]\d{1,2}/g
    const regAuto = /\d{4}([-\/])\d{1,2}\1\d{1,2}/g
    console.log(yearInfo.match(regAuto))
  </script>
</body>

</html>